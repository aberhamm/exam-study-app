# Docker Compose Environment Variables
# Copy this file to .env.docker and fill in your values

# ==============================================
# Application Settings
# ==============================================
# Port to expose the application on the host machine
APP_PORT=3000

# ==============================================
# MongoDB Configuration (External)
# ==============================================
# Full MongoDB connection URI for your external database
# Examples:
#   Local: mongodb://localhost:27017
#   With auth: mongodb://username:password@host:27017
#   Atlas: mongodb+srv://username:password@cluster.mongodb.net
#   Tailscale: mongodb://your-host.tailxxxx.ts.net:27017
MONGODB_URI=mongodb://digital-ocean-ubuntu-droplet.tail4baa7.ts.net:27017

# Database name
MONGODB_DB=study-util

# ==============================================
# OpenAI API Configuration (Optional)
# ==============================================
# Required for embeddings and AI features
OPENAI_API_KEY=

# Embedding model configuration
QUESTIONS_EMBEDDING_MODEL=text-embedding-3-small
# QUESTIONS_EMBEDDING_DIMENSIONS=1536

# ==============================================
# OpenRouter API Configuration (Optional)
# ==============================================
# Required for AI question generation
OPENROUTER_API_KEY=
OPENROUTER_MODEL=anthropic/claude-3.5-sonnet

# ==============================================
# Authentication
# ==============================================
# Required for admin features (import, dedupe, embeddings, etc.)
# Generate with: openssl rand -base64 32
AUTH_SECRET=

# Optional: Set initial admin credentials for seeding
# ADMIN_USERNAME=admin
# ADMIN_PASSWORD=

# ==============================================
# Session Configuration
# ==============================================
# SESSION_MAX_AGE: Maximum session duration in seconds before requiring re-login
#   Default: 28800 (8 hours)
#   Set to 0 or "never" for sessions that never expire
# SESSION_UPDATE_AGE: How often to update session activity timestamp (in seconds)
#   Default: 3600 (1 hour)
# SESSION_MAX_AGE=28800
# SESSION_UPDATE_AGE=3600

# ==============================================
# Feature Flags
# ==============================================
# Debug retrieval and RAG pipeline (verbose logging)
# DEBUG_RETRIEVAL=

# ==============================================
# Advanced Configuration (Optional)
# ==============================================
# Base URL for the application (used in admin pages and API callbacks)
# NEXT_PUBLIC_BASE_URL=http://localhost:3000
# SITE_URL=http://localhost:3000

# Vector search and retrieval configuration
# CANDIDATE_MULTIPLIER=10
# MAX_CANDIDATES=100
# MAX_CONTEXT_CHUNKS=4
# MAX_CHUNK_CHARS=1500

# API configuration
# API_TIMEOUT_MS=30000
# MAX_RETRIES=3

# ==============================================
# Script-Only Variables (Not needed for Docker)
# ==============================================
# The following variables are hardcoded in the application and only used
# by standalone scripts (seed, migrate, etc.). You can set them when running
# scripts locally, but they are not needed in the Docker environment.
#
# MongoDB Collection Names (hardcoded in lib/env-config.ts):
# MONGODB_EXAMS_COLLECTION=exams
# MONGODB_QUESTIONS_COLLECTION=questions
# MONGODB_QUESTION_EMBEDDINGS_COLLECTION=question_embeddings
# MONGODB_QUESTION_EMBEDDINGS_VECTOR_INDEX=question_embeddings_vector_index
